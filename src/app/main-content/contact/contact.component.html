<section id="contact">
  <div class="section-wrapper">
    <div class="contact" data-aos="fade-right">
      <p>{{ "CONTACT.HEAD" | translate }}</p>
      <h1>{{ "CONTACT.TITLE" | translate }}</h1>
      <h3>{{ "CONTACT.QUESTION" | translate }}</h3>
      <p class="text">{{ "CONTACT.CONTENT" | translate }}</p>
      <p class="question">
        {{ "CONTACT.QUESTION_WHITE" | translate
        }}<span>{{ "CONTACT.QUESTION_GREEN" | translate }}</span>
      </p>
    </div>
    <div class="contact-form" data-aos="fade-left">
      <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
        <div
          class="name"
          [class.has-error]="
            name.invalid &&
            (name.touched || contactForm.submitted) &&
            !nameFocused
          "
        >
          <label for="name">{{ "CONTACT_FORM.NAME" | translate }}</label>
          <input
            #name="ngModel"
            [(ngModel)]="contactData.name"
            [placeholder]="'CONTACT_FORM.NAME_PLACEHODER' | translate"
            name="name"
            type="text"
            required
            minlength="2"
            pattern="^[A-Za-zÀ-ž ]+$"
            (focus)="nameFocused = true"
            (blur)="nameFocused = false"
          />
          <span
            class="error"
            *ngIf="name.errors?.['required'] && name.touched && !nameFocused"
          >
            {{ "CONTACT_FORM.NAME_REQUIRED" | translate }}
          </span>
          <span
            class="error"
            *ngIf="name.errors?.['minlength'] && name.touched && !nameFocused"
          >
            {{ "CONTACT_FORM.NAME_MINLENGTH" | translate }}
          </span>
          <span class="error" *ngIf="name.errors?.['pattern'] && name.dirty">
            {{ "CONTACT_FORM.NAME_PATTERN" | translate }}
          </span>
        </div>

        <div
          class="email"
          [class.has-error]="
            email.invalid &&
            (email.touched || contactForm.submitted) &&
            !emailFocused
          "
        >
          <label for="email">{{ "CONTACT_FORM.EMAIL" | translate }}</label>
          <input
            #email="ngModel"
            [(ngModel)]="contactData.email"
            type="email"
            id="email"
            name="email"
            [placeholder]="'CONTACT_FORM.EMAIL_PLACEHOLDER' | translate"
            required
            pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
            (focus)="emailFocused = true"
            (blur)="emailFocused = false"
          />
          <span
            class="error"
            *ngIf="
              email.errors?.['required'] &&
              (email.touched || contactForm.submitted) &&
              !emailFocused
            "
          >
            {{ "CONTACT_FORM.EMAIL_REQUIRED" | translate }}
          </span>
          <span
            class="error"
            *ngIf="email.errors?.['pattern'] && email.touched && !emailFocused"
          >
            {{ "CONTACT_FORM.EMAIL_PATTERN" | translate }}
          </span>
        </div>

        <div
          class="text"
          [class.has-error]="
            message.invalid &&
            (message.touched || contactForm.submitted) &&
            !messageFocused
          "
        >
          <label for="message">{{ "CONTACT_FORM.TEXT" | translate }} </label>
          <textarea
            #message="ngModel"
            minlength="4"
            [(ngModel)]="contactData.message"
            id="message"
            name="message"
            [placeholder]="'CONTACT_FORM.TEXT_PLACEHOLDER' | translate"
            style="height: 25px"
            required
            (focus)="messageFocused = true"
            (blur)="messageFocused = false"
          ></textarea>
          <span
            class="error"
            *ngIf="
              message.errors?.['required'] &&
              (message.touched || contactForm.submitted) &&
              !messageFocused
            "
          >
            {{ "CONTACT_FORM.TEXT_REQUIRED" | translate }}
          </span>
          <span
            class="error"
            *ngIf="
              message.errors?.['minlength'] &&
              message.touched &&
              !messageFocused
            "
          >
            {{ "CONTACT_FORM.TEXT_MINLENGTH" | translate }}
          </span>
        </div>
        <div
          class="check"
          [class.has-error]="agree.invalid && contactForm.submitted"
        >
          <input
            #agree="ngModel"
            type="checkbox"
            name="agree"
            id="agree"
            [(ngModel)]="contactData.agree"
            required
          />
          <label for="agree"
            >{{ "CONTACT_FORM.PRIVACY" | translate }}
            <a href="privacy">{{ "CONTACT_FORM.PRIVACY_GREEN" | translate }}</a>
            {{ "CONTACT_FORM.PRIVACY_WHITE" | translate }}</label
          >
          <span class="error" *ngIf="agree.invalid && contactForm.submitted">
            {{ "CONTACT_FORM.ACCEPT" | translate }}
          </span>
        </div>
        <button type="submit" [disabled]="contactForm.invalid">
          <span>{{ "CONTACT_FORM.BUTTON" | translate }}</span>
        </button>
      </form>
      <p class="success-message" *ngIf="successMessage">
        {{ "CONTACT_FORM.SUCCESS" | translate }}
      </p>
    </div>
  </div>
</section>
